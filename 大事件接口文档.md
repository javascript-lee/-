# 前台接口

### 获取所有的分类

- 说明

    - 返回所有的分类

- 地址

    - `/getCategory`

- 请求参数

    - 无

- 服务器返回数据示例

    ```json
    [
      {
        "id": 1,
        "name": "学习",
        "icon": "graduation-cap",
        "addtime": "2019-06-05"
      },
      {
        "id": 2,
        "name": "消遣",
        "icon": "gamepad",
        "addtime": "2019-06-05"
      },
      ......
    ]
    ```

### 获取文章

- 说明

    - 根据请求参数获取对应的文章

- 地址

    - `/getArticles`

- 请求参数

    | 参数 | 类型   | 说明                                                         |
    | ---- | ------ | ------------------------------------------------------------ |
    | flag | 字符串 | 默认值click，表示热门推荐；可选bad，表示焦点关注；可选good，表示焦点图；可选id，表示最新发布 |
    | num  | 数值型 | 表示获取文章的数量，默认5                                    |

- 服务器返回数据示例

    - 成功

        ```json
        {
            "code": 200,
            "data": [
                  {
                    "id": 25,
                    "title": "正在输入",
                    "desc": "入正在输入正在输入正在输入正在输入正在输入正在输入正在输入",
                    "text": "正在输入正在输入正在",
                    "cateid": 1,
                    "addtime": "2019.7.5 16:14:55",
                    "state": "已发布",
                    "file": "\\upload\\avatar-1562314482974.png",
                    "click": 2983,
                    "good": 746,
                    "bad": 44,
                    "cmt": null
                  },
                  {
                    "id": 40,
                    "title": "我叫韩琨，急征女友！！！",
                    "desc": "家境殷实，家里有矿.,急征女友！！！",
                    "text": "我叫韩琨，家境殷实，家里有矿，现家母急催找对象，我会洗衣，也会做饭",
                    "cateid": 3,
                    "addtime": "2019.7.5 16:46:16",
                    "state": "已发布",
                    "file": "\\upload\\avatar-1562316369272.gif",
                    "click": 2934,
                    "good": 505,
                    "bad": 135,
                    "cmt": null
                  },
                  .......
             ]
        }
        ```

    - 失败

        ```json
        {
          "code": 201,
          "message": "请求参数错误"
        }
        ```

### 根据分类id获取文章

- 说明

    - 根据分类id，获取所属当前分类的全部文章

- 地址

    - `/getArticlesByCateId`

- 请求参数

    | 参数   | 类型   | 说明     |
    | ------ | ------ | -------- |
    | cateid | 数值型 | 分类的id |

- 服务器返回数据示例

    - 成功

        ```json
        {
          "code": 200,
          "message": "请求数据成功",
          "category": {
            "id": 2,
            "name": "消遣",
            "icon": "gamepad",
            "addtime": "2019-06-05"
          },
          "data": [
            {
              "id": 2,
              "title": "我胡小川",
              "desc": "是时候展现真正的技术了",
              "text": "是时候展现真正的技术了是",
              "cateid": 2,
              "addtime": "2019.7.5 16:11:27",
              "state": "已发布",
              "file": "\\upload\\avatar-1562314268386.jpg",
              "click": 1171,
              "good": 21,
              "bad": 69,
              "cmt": null
            },
            {
              "id": 4,
              "title": "瓦拉阿拉拉阿拉",
              "desc": "啊啊啊啊啊啊",
              "text": "呜呜呜呜呜呜呜",
              "cateid": 2,
              "addtime": "2019.7.5 16:12:09",
              "state": "草稿",
              "file": "\\upload\\avatar-1562314314112.png",
              "click": 2302,
              "good": 456,
              "bad": 116,
              "cmt": null
            },
            .......
        ]
        ```

    - 失败

        ```json
        {
          "code": 201,
          "message": "请求参数错误"
        }
        ```

### 根据文章id获取一篇文章

- 说明

    - 根据文章id，获取一篇文章

- 地址

    - `/getArticleById`

- 请求参数

    | 参数 | 类型   | 说明   |
    | ---- | ------ | ------ |
    | id   | 数值型 | 文章id |

- 服务器返回数据示例

    - 成功

        ```json
        {
          "code": 200,
          "message": "请求数据成功",
          "category": {
            "id": 3,
            "name": "情感",
            "icon": "heartbeat",
            "addtime": "2019-06-05"
          },
          "data": {
            "id": 40,
            "title": "我叫韩琨，急征女友！！！",
            "desc": "家境殷实，家里有矿.,急征女友！！！家境殷实，家里有矿.,",
            "text": "我叫韩琨，家境殷实，家里有矿，现家母急催找对象，我会洗衣，也会做饭",
            "cateid": 3,
            "addtime": "2019.7.5 16:46:16",
            "state": "已发布",
            "file": "\\upload\\avatar-1562316369272.gif",
            "click": 2934,
            "good": 505,
            "bad": 135,
            "cmt": null
          }
        }
        ```

    - 失败

        ```json
        {
          "code": 201,
          "message": "请求参数错误"
        }
        ```

### 获取上一篇下一篇文章

- 说明

    - 根据当前文章id，获取当前文章的上一篇和下一篇文章

- 地址

    - `/adjacent`

- 请求参数

    | 参数 | 类型   | 说明       |
    | ---- | ------ | ---------- |
    | id   | 数值型 | 当前文章id |

- 服务器返回数据示例

    - 成功

        ```json
        {
          "code": 200,
          "message": "请求数据成功",
          "data": {
            "prev": {
              "id": 34,
              "title": "阿珍爱上了阿强在一个有星星的夜晚",
              "desc": "阿珍爱上了阿强在一个有星星的夜晚",
              "text": "曾经有一份真挚的感情摆在我面前我却没有珍惜，直到逝去之后才追悔莫及，如果上天再给我一次重来的机",
              "cateid": 3,
              "addtime": "2019.7.5 16:15:55",
              "state": "草稿",
              "file": "\\upload\\avatar-1562314533794.jpg",
              "click": 264,
              "good": 698,
              "bad": 113,
              "cmt": null
            },
            "next": {
              "id": 36,
              "title": "大家好我是林珍",
              "desc": "嗯嗯呃呃呃呃",
              "text": "我除了吃就是睡，上课每天走私，下课不写作业，一看代码就心烦",
              "cateid": 2,
              "addtime": "2019.7.5 16:16:17",
              "state": "已发布",
              "file": "\\upload\\avatar-1562314516782.jpg",
              "click": 1733,
              "good": 401,
              "bad": 75,
              "cmt": null
            }
          }
        }
        ```

    - 失败

        ```json
        {
          "code": 201,
          "message": "请求参数错误"
        }
        ```

        

# 后台接口